2016/07/11 11:27:15
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:27:16
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:27:16
event message處理完成!
2016/07/11 11:28:53
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1309]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:53
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:53
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:19:14]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:28:53]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:53
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:19:14]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:28:53]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:54
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[AgentID], [t0].[IssuerID]
FROM [dbo].[InvoiceIssuerAgent] AS [t0]
WHERE ([t0].[AgentID] = @p0) AND ([t0].[IssuerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT 
    (CASE 
        WHEN EXISTS(
            SELECT NULL AS [EMPTY]
            FROM [dbo].[InvoiceAllowance] AS [t0]
            WHERE [t0].[AllowanceNumber] = @p0
            ) THEN 1
        ELSE 0
     END) AS [value]
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[InvoiceID], [t0].[No], [t0].[InvoiceDate], [t0].[CheckNo], [t0].[Remark], [t0].[BuyerRemark], [t0].[CustomsClearanceMark], [t0].[TaxCenter], [t0].[PermitDate], [t0].[PermitWord], [t0].[PermitNumber], [t0].[Category], [t0].[RelateNumber], [t0].[InvoiceType], [t0].[GroupMark], [t0].[DonateMark], [t0].[SellerID], [t0].[DonationID], [t0].[RandomNo], [t0].[TrackCode], [t0].[PrintMark]
FROM [dbo].[InvoiceItem] AS [t0]
WHERE ([t0].[TrackCode] = @p0) AND ([t0].[No] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [00001016]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CancellationNo], [t0].[CancelDate], [t0].[ReturnTaxDocumentNo], [t0].[Remark], [t0].[InvoiceID], [t0].[CancelReason]
FROM [dbo].[InvoiceCancellation] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[BuyerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark], [t0].[CustomerNumber]
FROM [dbo].[InvoiceBuyer] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[SellerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceSeller] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t3].[ItemID], [t3].[ProductID], [t3].[No], [t3].[Spec], [t3].[Piece], [t3].[Piece2], [t3].[PieceUnit], [t3].[PieceUnit2], [t3].[Weight], [t3].[WeightUnit], [t3].[UnitFreight], [t3].[UnitCost], [t3].[UnitCost2], [t3].[FreightAmount], [t3].[CostAmount], [t3].[CostAmount2], [t3].[OriginalPrice], [t3].[Remark], [t3].[RelateNumber], [t3].[TaxType], [t3].[ItemNo]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN [dbo].[InvoiceDetails] AS [t1] ON [t0].[InvoiceID] = [t1].[InvoiceID]
INNER JOIN [dbo].[InvoiceProduct] AS [t2] ON [t1].[ProductID] = [t2].[ProductID]
INNER JOIN [dbo].[InvoiceProductItem] AS [t3] ON ([t2].[ProductID]) = [t3].[ProductID]
WHERE ((CONVERT(Decimal(33,4),[t3].[No])) = @p0) AND ([t0].[InvoiceID] = @p1)
-- @p0: Input Decimal (Size = -1; Prec = 33; Scale = 4) [0]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[CDS_Document]([DocType], [DocDate], [CurrentStep], [ChannelID])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:28:54]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowance]([AllowanceID], [AllowanceNumber], [AllowanceType], [AllowanceDate], [TotalAmount], [TaxAmount], [InvoiceID], [SellerId], [BuyerId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- @p2: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [2]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/6 上午 12:00:00]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1418]
-- @p5: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[DocumentOwner]([DocID], [OwnerID], [ClientID])
VALUES (@p0, @p1, @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceItem]([No], [InvoiceNo], [Piece], [Amount], [Tax], [ProductItemID], [InvoiceDate], [ItemNo], [OriginalSequenceNo], [PieceUnit], [OriginalDescription], [TaxType], [UnitCost], [UnitCost2], [Piece2], [Amount2], [PieceUnit2], [Remark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ00001016]
-- @p2: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1]
-- @p3: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p6: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/6/15 上午 12:00:00]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p8: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [0]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [DoubleClick Bid Manager]
-- @p11: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p12: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p13: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p14: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p15: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p16: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p17: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceDetails]([AllowanceID], [ItemID])
VALUES (@p0, @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [280]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceBuyer]([AllowanceID], [BuyerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceSeller]([AllowanceID], [SellerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [台北市信義區信義路五段7號73樓之1]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Phoebe Sheng]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [86-21-61157989]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [cindy@uxb2b.com]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [霍客]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:54
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:54
SELECT TOP (1) [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE ([t0].[DocID] = @p0) AND ([t0].[TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[DocType], [t0].[DocDate], [t0].[CurrentStep], [t0].[ChannelID]
FROM [dbo].[CDS_Document] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[AllowanceNumber], [t0].[AllowanceType], [t0].[AllowanceDate], [t0].[TotalAmount], [t0].[TaxAmount], [t0].[InvoiceID], [t0].[SellerId], [t0].[BuyerId]
FROM [dbo].[InvoiceAllowance] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[BuyerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceBuyer] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[SellerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceSeller] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[ItemID]
FROM [dbo].[InvoiceAllowanceDetails] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ItemID], [t0].[No], [t0].[InvoiceNo], [t0].[Piece], [t0].[Amount], [t0].[Tax], [t0].[ProductItemID], [t0].[InvoiceDate], [t0].[ItemNo], [t0].[OriginalSequenceNo], [t0].[PieceUnit], [t0].[OriginalDescription], [t0].[TaxType], [t0].[UnitCost], [t0].[UnitCost2], [t0].[Piece2], [t0].[Amount2], [t0].[PieceUnit2], [t0].[Remark]
FROM [dbo].[InvoiceAllowanceItem] AS [t0]
WHERE [t0].[ItemID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [280]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[OwnerID], [t0].[ClientID]
FROM [dbo].[DocumentOwner] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[CDS_Document]
SET [CurrentStep] = @p3
WHERE ([DocID] = @p0) AND ([DocType] = @p1) AND ([DocDate] = @p2) AND ([CurrentStep] IS NULL) AND ([ChannelID] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:28:54]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[DocumentDispatch] WHERE ([DocID] = @p0) AND ([TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105302]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:54
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:28:54
event message處理完成!
2016/07/11 11:29:32
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[AgentID], [t0].[IssuerID]
FROM [dbo].[InvoiceIssuerAgent] AS [t0]
WHERE ([t0].[AgentID] = @p0) AND ([t0].[IssuerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT 
    (CASE 
        WHEN EXISTS(
            SELECT NULL AS [EMPTY]
            FROM [dbo].[InvoiceAllowance] AS [t0]
            WHERE [t0].[AllowanceNumber] = @p0
            ) THEN 1
        ELSE 0
     END) AS [value]
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[InvoiceID], [t0].[No], [t0].[InvoiceDate], [t0].[CheckNo], [t0].[Remark], [t0].[BuyerRemark], [t0].[CustomsClearanceMark], [t0].[TaxCenter], [t0].[PermitDate], [t0].[PermitWord], [t0].[PermitNumber], [t0].[Category], [t0].[RelateNumber], [t0].[InvoiceType], [t0].[GroupMark], [t0].[DonateMark], [t0].[SellerID], [t0].[DonationID], [t0].[RandomNo], [t0].[TrackCode], [t0].[PrintMark]
FROM [dbo].[InvoiceItem] AS [t0]
WHERE ([t0].[TrackCode] = @p0) AND ([t0].[No] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [00001016]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CancellationNo], [t0].[CancelDate], [t0].[ReturnTaxDocumentNo], [t0].[Remark], [t0].[InvoiceID], [t0].[CancelReason]
FROM [dbo].[InvoiceCancellation] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[BuyerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark], [t0].[CustomerNumber]
FROM [dbo].[InvoiceBuyer] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[SellerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceSeller] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t3].[ItemID], [t3].[ProductID], [t3].[No], [t3].[Spec], [t3].[Piece], [t3].[Piece2], [t3].[PieceUnit], [t3].[PieceUnit2], [t3].[Weight], [t3].[WeightUnit], [t3].[UnitFreight], [t3].[UnitCost], [t3].[UnitCost2], [t3].[FreightAmount], [t3].[CostAmount], [t3].[CostAmount2], [t3].[OriginalPrice], [t3].[Remark], [t3].[RelateNumber], [t3].[TaxType], [t3].[ItemNo]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN [dbo].[InvoiceDetails] AS [t1] ON [t0].[InvoiceID] = [t1].[InvoiceID]
INNER JOIN [dbo].[InvoiceProduct] AS [t2] ON [t1].[ProductID] = [t2].[ProductID]
INNER JOIN [dbo].[InvoiceProductItem] AS [t3] ON ([t2].[ProductID]) = [t3].[ProductID]
WHERE ((CONVERT(Decimal(33,4),[t3].[No])) = @p0) AND ([t0].[InvoiceID] = @p1)
-- @p0: Input Decimal (Size = -1; Prec = 33; Scale = 4) [0]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[CDS_Document]([DocType], [DocDate], [CurrentStep], [ChannelID])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:29:32]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowance]([AllowanceID], [AllowanceNumber], [AllowanceType], [AllowanceDate], [TotalAmount], [TaxAmount], [InvoiceID], [SellerId], [BuyerId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- @p2: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [2]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/6 上午 12:00:00]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1418]
-- @p5: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[DocumentOwner]([DocID], [OwnerID], [ClientID])
VALUES (@p0, @p1, @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceItem]([No], [InvoiceNo], [Piece], [Amount], [Tax], [ProductItemID], [InvoiceDate], [ItemNo], [OriginalSequenceNo], [PieceUnit], [OriginalDescription], [TaxType], [UnitCost], [UnitCost2], [Piece2], [Amount2], [PieceUnit2], [Remark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ00001016]
-- @p2: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1]
-- @p3: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p6: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/6/15 上午 12:00:00]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p8: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [0]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [DoubleClick Bid Manager]
-- @p11: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p12: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p13: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p14: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p15: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p16: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p17: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceDetails]([AllowanceID], [ItemID])
VALUES (@p0, @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [281]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceBuyer]([AllowanceID], [BuyerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceSeller]([AllowanceID], [SellerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [台北市信義區信義路五段7號73樓之1]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Phoebe Sheng]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [86-21-61157989]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [cindy@uxb2b.com]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [霍客]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:29:32
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:29:32
SELECT TOP (1) [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE ([t0].[DocID] = @p0) AND ([t0].[TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[DocType], [t0].[DocDate], [t0].[CurrentStep], [t0].[ChannelID]
FROM [dbo].[CDS_Document] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[AllowanceNumber], [t0].[AllowanceType], [t0].[AllowanceDate], [t0].[TotalAmount], [t0].[TaxAmount], [t0].[InvoiceID], [t0].[SellerId], [t0].[BuyerId]
FROM [dbo].[InvoiceAllowance] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[BuyerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceBuyer] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[SellerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceSeller] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[ItemID]
FROM [dbo].[InvoiceAllowanceDetails] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ItemID], [t0].[No], [t0].[InvoiceNo], [t0].[Piece], [t0].[Amount], [t0].[Tax], [t0].[ProductItemID], [t0].[InvoiceDate], [t0].[ItemNo], [t0].[OriginalSequenceNo], [t0].[PieceUnit], [t0].[OriginalDescription], [t0].[TaxType], [t0].[UnitCost], [t0].[UnitCost2], [t0].[Piece2], [t0].[Amount2], [t0].[PieceUnit2], [t0].[Remark]
FROM [dbo].[InvoiceAllowanceItem] AS [t0]
WHERE [t0].[ItemID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [281]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[OwnerID], [t0].[ClientID]
FROM [dbo].[DocumentOwner] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[CDS_Document]
SET [CurrentStep] = @p3
WHERE ([DocID] = @p0) AND ([DocType] = @p1) AND ([DocDate] = @p2) AND ([CurrentStep] IS NULL) AND ([ChannelID] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:29:32]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[DocumentDispatch] WHERE ([DocID] = @p0) AND ([TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105303]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:29:32
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:29:32
event message處理完成!
2016/07/11 11:32:16
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:32:16
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:32:16
event message處理完成!
2016/07/11 11:32:17
SELECT [t0].[TrackID], [t0].[TrackCode], [t0].[Year], [t0].[PeriodNo]
FROM [dbo].[InvoiceTrackCode] AS [t0]
WHERE ([t0].[Year] = @p0) AND ([t0].[PeriodNo] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2016]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [3]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [100]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [101]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [102]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [103]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [104]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [180]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [181]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [182]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [183]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [184]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [185]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [186]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [187]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [187]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [187]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [173]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [188]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [189]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [190]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [191]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [191]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2409]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [191]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2409]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2409]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2409]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [167]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [192]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [193]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [194]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [195]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [196]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [197]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [198]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [199]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [199]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2420]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [199]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2420]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2420]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2420]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [172]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [200]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [201]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [202]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [203]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [204]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [205]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[IntervalID], [t0].[TrackID], [t0].[SellerID], [t0].[StartNo], [t0].[EndNo]
FROM [dbo].[InvoiceNoInterval] AS [t0]
WHERE [t0].[TrackID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2403]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2403]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2403]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2403]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [174]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2413]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2413]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2413]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2413]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [175]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2421]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2421]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2421]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2421]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [176]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2411]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2411]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2411]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2411]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [177]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2427]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[UAID], [t0].[TrackID], [t0].[SellerID], [t0].[InvoiceBeginNo], [t0].[InvoiceEndNo]
FROM [dbo].[UnassignedInvoiceNo] AS [t0]
WHERE ([t0].[TrackID] = @p0) AND ([t0].[SellerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2427]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2427]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2427]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceNo] AS [value]
FROM [dbo].[InvoiceNoAssignment] AS [t0]
WHERE [t0].[IntervalID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [178]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [187]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1024]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [5000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [191]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2409]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [10000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [199]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2420]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [87864215]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [87864299]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2403]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [37]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [10000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2413]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [30007]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [40000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2421]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [20002]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [30000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2411]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [10022]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [20000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[UnassignedInvoiceNo]([TrackID], [SellerID], [InvoiceBeginNo], [InvoiceEndNo])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2427]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [40006]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [50000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20423]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [187]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1024]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [5000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20424]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [191]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2409]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [10000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20425]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [199]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2420]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [87864215]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [87864299]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20426]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2403]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [37]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [10000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20427]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2413]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [30007]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [40000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20428]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2421]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [20002]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [30000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20429]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2411]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [10022]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [20000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[UnassignedInvoiceNo] WHERE ([UAID] = @p0) AND ([TrackID] = @p1) AND ([SellerID] = @p2) AND ([InvoiceBeginNo] = @p3) AND ([InvoiceEndNo] = @p4)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [20430]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [77]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [2427]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [40006]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [50000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:36:30
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[AgentID], [t0].[IssuerID]
FROM [dbo].[InvoiceIssuerAgent] AS [t0]
WHERE ([t0].[AgentID] = @p0) AND ([t0].[IssuerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT 
    (CASE 
        WHEN EXISTS(
            SELECT NULL AS [EMPTY]
            FROM [dbo].[InvoiceAllowance] AS [t0]
            WHERE [t0].[AllowanceNumber] = @p0
            ) THEN 1
        ELSE 0
     END) AS [value]
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[InvoiceID], [t0].[No], [t0].[InvoiceDate], [t0].[CheckNo], [t0].[Remark], [t0].[BuyerRemark], [t0].[CustomsClearanceMark], [t0].[TaxCenter], [t0].[PermitDate], [t0].[PermitWord], [t0].[PermitNumber], [t0].[Category], [t0].[RelateNumber], [t0].[InvoiceType], [t0].[GroupMark], [t0].[DonateMark], [t0].[SellerID], [t0].[DonationID], [t0].[RandomNo], [t0].[TrackCode], [t0].[PrintMark]
FROM [dbo].[InvoiceItem] AS [t0]
WHERE ([t0].[TrackCode] = @p0) AND ([t0].[No] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [00001016]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CancellationNo], [t0].[CancelDate], [t0].[ReturnTaxDocumentNo], [t0].[Remark], [t0].[InvoiceID], [t0].[CancelReason]
FROM [dbo].[InvoiceCancellation] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[BuyerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark], [t0].[CustomerNumber]
FROM [dbo].[InvoiceBuyer] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[SellerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceSeller] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t3].[ItemID], [t3].[ProductID], [t3].[No], [t3].[Spec], [t3].[Piece], [t3].[Piece2], [t3].[PieceUnit], [t3].[PieceUnit2], [t3].[Weight], [t3].[WeightUnit], [t3].[UnitFreight], [t3].[UnitCost], [t3].[UnitCost2], [t3].[FreightAmount], [t3].[CostAmount], [t3].[CostAmount2], [t3].[OriginalPrice], [t3].[Remark], [t3].[RelateNumber], [t3].[TaxType], [t3].[ItemNo]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN [dbo].[InvoiceDetails] AS [t1] ON [t0].[InvoiceID] = [t1].[InvoiceID]
INNER JOIN [dbo].[InvoiceProduct] AS [t2] ON [t1].[ProductID] = [t2].[ProductID]
INNER JOIN [dbo].[InvoiceProductItem] AS [t3] ON ([t2].[ProductID]) = [t3].[ProductID]
WHERE ((CONVERT(Decimal(33,4),[t3].[No])) = @p0) AND ([t0].[InvoiceID] = @p1)
-- @p0: Input Decimal (Size = -1; Prec = 33; Scale = 4) [0]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[CDS_Document]([DocType], [DocDate], [CurrentStep], [ChannelID])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:33:26]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowance]([AllowanceID], [AllowanceNumber], [AllowanceType], [AllowanceDate], [TotalAmount], [TaxAmount], [InvoiceID], [SellerId], [BuyerId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- @p2: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [2]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/6 上午 12:00:00]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1418]
-- @p5: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[DocumentOwner]([DocID], [OwnerID], [ClientID])
VALUES (@p0, @p1, @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceItem]([No], [InvoiceNo], [Piece], [Amount], [Tax], [ProductItemID], [InvoiceDate], [ItemNo], [OriginalSequenceNo], [PieceUnit], [OriginalDescription], [TaxType], [UnitCost], [UnitCost2], [Piece2], [Amount2], [PieceUnit2], [Remark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ00001016]
-- @p2: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1]
-- @p3: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p6: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/6/15 上午 12:00:00]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p8: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [0]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [DoubleClick Bid Manager]
-- @p11: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p12: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p13: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p14: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p15: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p16: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p17: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceDetails]([AllowanceID], [ItemID])
VALUES (@p0, @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [282]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceBuyer]([AllowanceID], [BuyerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceSeller]([AllowanceID], [SellerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [台北市信義區信義路五段7號73樓之1]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Phoebe Sheng]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [86-21-61157989]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [cindy@uxb2b.com]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [霍客]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:36:30
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:36:30
SELECT TOP (1) [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE ([t0].[DocID] = @p0) AND ([t0].[TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[DocType], [t0].[DocDate], [t0].[CurrentStep], [t0].[ChannelID]
FROM [dbo].[CDS_Document] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[AllowanceNumber], [t0].[AllowanceType], [t0].[AllowanceDate], [t0].[TotalAmount], [t0].[TaxAmount], [t0].[InvoiceID], [t0].[SellerId], [t0].[BuyerId]
FROM [dbo].[InvoiceAllowance] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[BuyerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceBuyer] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[SellerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceSeller] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[ItemID]
FROM [dbo].[InvoiceAllowanceDetails] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ItemID], [t0].[No], [t0].[InvoiceNo], [t0].[Piece], [t0].[Amount], [t0].[Tax], [t0].[ProductItemID], [t0].[InvoiceDate], [t0].[ItemNo], [t0].[OriginalSequenceNo], [t0].[PieceUnit], [t0].[OriginalDescription], [t0].[TaxType], [t0].[UnitCost], [t0].[UnitCost2], [t0].[Piece2], [t0].[Amount2], [t0].[PieceUnit2], [t0].[Remark]
FROM [dbo].[InvoiceAllowanceItem] AS [t0]
WHERE [t0].[ItemID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [282]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[OwnerID], [t0].[ClientID]
FROM [dbo].[DocumentOwner] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[CDS_Document]
SET [CurrentStep] = @p3
WHERE ([DocID] = @p0) AND ([DocType] = @p1) AND ([DocDate] = @p2) AND ([CurrentStep] IS NULL) AND ([ChannelID] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:33:26]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[DocumentDispatch] WHERE ([DocID] = @p0) AND ([TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105304]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:36:30
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:36:30
event message處理完成!
2016/07/11 11:37:17
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:37:17
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:37:17
event message處理完成!
2016/07/11 11:40:44
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[AgentID], [t0].[IssuerID]
FROM [dbo].[InvoiceIssuerAgent] AS [t0]
WHERE ([t0].[AgentID] = @p0) AND ([t0].[IssuerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT 
    (CASE 
        WHEN EXISTS(
            SELECT NULL AS [EMPTY]
            FROM [dbo].[InvoiceAllowance] AS [t0]
            WHERE [t0].[AllowanceNumber] = @p0
            ) THEN 1
        ELSE 0
     END) AS [value]
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[InvoiceID], [t0].[No], [t0].[InvoiceDate], [t0].[CheckNo], [t0].[Remark], [t0].[BuyerRemark], [t0].[CustomsClearanceMark], [t0].[TaxCenter], [t0].[PermitDate], [t0].[PermitWord], [t0].[PermitNumber], [t0].[Category], [t0].[RelateNumber], [t0].[InvoiceType], [t0].[GroupMark], [t0].[DonateMark], [t0].[SellerID], [t0].[DonationID], [t0].[RandomNo], [t0].[TrackCode], [t0].[PrintMark]
FROM [dbo].[InvoiceItem] AS [t0]
WHERE ([t0].[TrackCode] = @p0) AND ([t0].[No] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [00001016]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CancellationNo], [t0].[CancelDate], [t0].[ReturnTaxDocumentNo], [t0].[Remark], [t0].[InvoiceID], [t0].[CancelReason]
FROM [dbo].[InvoiceCancellation] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[BuyerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark], [t0].[CustomerNumber]
FROM [dbo].[InvoiceBuyer] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[SellerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceSeller] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t3].[ItemID], [t3].[ProductID], [t3].[No], [t3].[Spec], [t3].[Piece], [t3].[Piece2], [t3].[PieceUnit], [t3].[PieceUnit2], [t3].[Weight], [t3].[WeightUnit], [t3].[UnitFreight], [t3].[UnitCost], [t3].[UnitCost2], [t3].[FreightAmount], [t3].[CostAmount], [t3].[CostAmount2], [t3].[OriginalPrice], [t3].[Remark], [t3].[RelateNumber], [t3].[TaxType], [t3].[ItemNo]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN [dbo].[InvoiceDetails] AS [t1] ON [t0].[InvoiceID] = [t1].[InvoiceID]
INNER JOIN [dbo].[InvoiceProduct] AS [t2] ON [t1].[ProductID] = [t2].[ProductID]
INNER JOIN [dbo].[InvoiceProductItem] AS [t3] ON ([t2].[ProductID]) = [t3].[ProductID]
WHERE ((CONVERT(Decimal(33,4),[t3].[No])) = @p0) AND ([t0].[InvoiceID] = @p1)
-- @p0: Input Decimal (Size = -1; Prec = 33; Scale = 4) [0]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[CDS_Document]([DocType], [DocDate], [CurrentStep], [ChannelID])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:39:47]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowance]([AllowanceID], [AllowanceNumber], [AllowanceType], [AllowanceDate], [TotalAmount], [TaxAmount], [InvoiceID], [SellerId], [BuyerId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- @p2: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [2]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/6 上午 12:00:00]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1418]
-- @p5: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[DocumentOwner]([DocID], [OwnerID], [ClientID])
VALUES (@p0, @p1, @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceItem]([No], [InvoiceNo], [Piece], [Amount], [Tax], [ProductItemID], [InvoiceDate], [ItemNo], [OriginalSequenceNo], [PieceUnit], [OriginalDescription], [TaxType], [UnitCost], [UnitCost2], [Piece2], [Amount2], [PieceUnit2], [Remark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ00001016]
-- @p2: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1]
-- @p3: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p6: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/6/15 上午 12:00:00]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p8: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [0]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [DoubleClick Bid Manager]
-- @p11: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p12: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p13: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p14: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p15: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p16: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p17: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceDetails]([AllowanceID], [ItemID])
VALUES (@p0, @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [283]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceBuyer]([AllowanceID], [BuyerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceSeller]([AllowanceID], [SellerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [台北市信義區信義路五段7號73樓之1]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Phoebe Sheng]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [86-21-61157989]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [cindy@uxb2b.com]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [霍客]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:41:19
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:41:35
SELECT TOP (1) [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE ([t0].[DocID] = @p0) AND ([t0].[TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[DocType], [t0].[DocDate], [t0].[CurrentStep], [t0].[ChannelID]
FROM [dbo].[CDS_Document] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[AllowanceNumber], [t0].[AllowanceType], [t0].[AllowanceDate], [t0].[TotalAmount], [t0].[TaxAmount], [t0].[InvoiceID], [t0].[SellerId], [t0].[BuyerId]
FROM [dbo].[InvoiceAllowance] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[BuyerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceBuyer] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[SellerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceSeller] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[ItemID]
FROM [dbo].[InvoiceAllowanceDetails] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ItemID], [t0].[No], [t0].[InvoiceNo], [t0].[Piece], [t0].[Amount], [t0].[Tax], [t0].[ProductItemID], [t0].[InvoiceDate], [t0].[ItemNo], [t0].[OriginalSequenceNo], [t0].[PieceUnit], [t0].[OriginalDescription], [t0].[TaxType], [t0].[UnitCost], [t0].[UnitCost2], [t0].[Piece2], [t0].[Amount2], [t0].[PieceUnit2], [t0].[Remark]
FROM [dbo].[InvoiceAllowanceItem] AS [t0]
WHERE [t0].[ItemID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [283]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[OwnerID], [t0].[ClientID]
FROM [dbo].[DocumentOwner] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[CDS_Document]
SET [CurrentStep] = @p3
WHERE ([DocID] = @p0) AND ([DocType] = @p1) AND ([DocDate] = @p2) AND ([CurrentStep] IS NULL) AND ([ChannelID] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:39:47]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[DocumentDispatch] WHERE ([DocID] = @p0) AND ([TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105305]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:41:35
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:41:35
event message處理完成!
2016/07/11 11:42:37
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:43:21
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:43:21
event message處理完成!
2016/07/11 11:47:10
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[OrgaCateID], [t0].[CompanyID], [t0].[CategoryID]
FROM [dbo].[OrganizationCategory] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[ReceiptNo] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[AgentID], [t0].[IssuerID]
FROM [dbo].[InvoiceIssuerAgent] AS [t0]
WHERE ([t0].[AgentID] = @p0) AND ([t0].[IssuerID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT 
    (CASE 
        WHEN EXISTS(
            SELECT NULL AS [EMPTY]
            FROM [dbo].[InvoiceAllowance] AS [t0]
            WHERE [t0].[AllowanceNumber] = @p0
            ) THEN 1
        ELSE 0
     END) AS [value]
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t0].[InvoiceID], [t0].[No], [t0].[InvoiceDate], [t0].[CheckNo], [t0].[Remark], [t0].[BuyerRemark], [t0].[CustomsClearanceMark], [t0].[TaxCenter], [t0].[PermitDate], [t0].[PermitWord], [t0].[PermitNumber], [t0].[Category], [t0].[RelateNumber], [t0].[InvoiceType], [t0].[GroupMark], [t0].[DonateMark], [t0].[SellerID], [t0].[DonationID], [t0].[RandomNo], [t0].[TrackCode], [t0].[PrintMark]
FROM [dbo].[InvoiceItem] AS [t0]
WHERE ([t0].[TrackCode] = @p0) AND ([t0].[No] = @p1)
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [00001016]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CancellationNo], [t0].[CancelDate], [t0].[ReturnTaxDocumentNo], [t0].[Remark], [t0].[InvoiceID], [t0].[CancelReason]
FROM [dbo].[InvoiceCancellation] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[BuyerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark], [t0].[CustomerNumber]
FROM [dbo].[InvoiceBuyer] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[InvoiceID], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[Name], [t0].[SellerID], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[CustomerName], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceSeller] AS [t0]
WHERE [t0].[InvoiceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT TOP (1) [t3].[ItemID], [t3].[ProductID], [t3].[No], [t3].[Spec], [t3].[Piece], [t3].[Piece2], [t3].[PieceUnit], [t3].[PieceUnit2], [t3].[Weight], [t3].[WeightUnit], [t3].[UnitFreight], [t3].[UnitCost], [t3].[UnitCost2], [t3].[FreightAmount], [t3].[CostAmount], [t3].[CostAmount2], [t3].[OriginalPrice], [t3].[Remark], [t3].[RelateNumber], [t3].[TaxType], [t3].[ItemNo]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN [dbo].[InvoiceDetails] AS [t1] ON [t0].[InvoiceID] = [t1].[InvoiceID]
INNER JOIN [dbo].[InvoiceProduct] AS [t2] ON [t1].[ProductID] = [t2].[ProductID]
INNER JOIN [dbo].[InvoiceProductItem] AS [t3] ON ([t2].[ProductID]) = [t3].[ProductID]
WHERE ((CONVERT(Decimal(33,4),[t3].[No])) = @p0) AND ([t0].[InvoiceID] = @p1)
-- @p0: Input Decimal (Size = -1; Prec = 33; Scale = 4) [0]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [105123]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[CDS_Document]([DocType], [DocDate], [CurrentStep], [ChannelID])
VALUES (@p0, @p1, @p2, @p3)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:47:10]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowance]([AllowanceID], [AllowanceNumber], [AllowanceType], [AllowanceDate], [TotalAmount], [TaxAmount], [InvoiceID], [SellerId], [BuyerId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [2223344]
-- @p2: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [2]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/6 上午 12:00:00]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1418]
-- @p5: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p6: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[DocumentOwner]([DocID], [OwnerID], [ClientID])
VALUES (@p0, @p1, @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceItem]([No], [InvoiceNo], [Piece], [Amount], [Tax], [ProductItemID], [InvoiceDate], [ItemNo], [OriginalSequenceNo], [PieceUnit], [OriginalDescription], [TaxType], [UnitCost], [UnitCost2], [Piece2], [Amount2], [PieceUnit2], [Remark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17)

SELECT CONVERT(Int,SCOPE_IDENTITY()) AS [value]
-- @p0: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [HJ00001016]
-- @p2: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1]
-- @p3: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p4: Input Decimal (Size = -1; Prec = 18; Scale = 5) [68]
-- @p5: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p6: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/6/15 上午 12:00:00]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p8: Input SmallInt (Size = -1; Prec = 0; Scale = 0) [0]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [DoubleClick Bid Manager]
-- @p11: Input TinyInt (Size = -1; Prec = 0; Scale = 0) [1]
-- @p12: Input Decimal (Size = -1; Prec = 18; Scale = 5) [1350]
-- @p13: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p14: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p15: Input Decimal (Size = -1; Prec = 18; Scale = 5) [Null]
-- @p16: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p17: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceDetails]([AllowanceID], [ItemID])
VALUES (@p0, @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [284]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceBuyer]([AllowanceID], [BuyerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [Null]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [28990783]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商艾比傑媒体行销股份有限公司 (Mediabrands Worldwide, Inc., Taiwan Branch)]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

INSERT INTO [dbo].[InvoiceAllowanceSeller]([AllowanceID], [SellerID], [Name], [CustomerName], [ReceiptNo], [PostCode], [Address], [CustomerID], [ContactName], [Phone], [EMail], [Fax], [PersonInCharge], [RoleRemark])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p3: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [美商科高國際有限公司台灣分公司]
-- @p4: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [27934855]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [台北市信義區信義路五段7號73樓之1]
-- @p7: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [807246]
-- @p8: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Phoebe Sheng]
-- @p9: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [86-21-61157989]
-- @p10: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [cindy@uxb2b.com]
-- @p11: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- @p12: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [霍客]
-- @p13: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [Null]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:47:10
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:47:11
SELECT TOP (1) [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE ([t0].[DocID] = @p0) AND ([t0].[TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[DocType], [t0].[DocDate], [t0].[CurrentStep], [t0].[ChannelID]
FROM [dbo].[CDS_Document] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[AllowanceNumber], [t0].[AllowanceType], [t0].[AllowanceDate], [t0].[TotalAmount], [t0].[TaxAmount], [t0].[InvoiceID], [t0].[SellerId], [t0].[BuyerId]
FROM [dbo].[InvoiceAllowance] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[BuyerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceBuyer] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[SellerID], [t0].[Name], [t0].[CustomerName], [t0].[ReceiptNo], [t0].[PostCode], [t0].[Address], [t0].[CustomerID], [t0].[ContactName], [t0].[Phone], [t0].[EMail], [t0].[Fax], [t0].[PersonInCharge], [t0].[RoleRemark]
FROM [dbo].[InvoiceAllowanceSeller] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[AllowanceID], [t0].[ItemID]
FROM [dbo].[InvoiceAllowanceDetails] AS [t0]
WHERE [t0].[AllowanceID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ItemID], [t0].[No], [t0].[InvoiceNo], [t0].[Piece], [t0].[Amount], [t0].[Tax], [t0].[ProductItemID], [t0].[InvoiceDate], [t0].[ItemNo], [t0].[OriginalSequenceNo], [t0].[PieceUnit], [t0].[OriginalDescription], [t0].[TaxType], [t0].[UnitCost], [t0].[UnitCost2], [t0].[Piece2], [t0].[Amount2], [t0].[PieceUnit2], [t0].[Remark]
FROM [dbo].[InvoiceAllowanceItem] AS [t0]
WHERE [t0].[ItemID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [284]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[OwnerID], [t0].[ClientID]
FROM [dbo].[DocumentOwner] AS [t0]
WHERE [t0].[DocID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[CDS_Document]
SET [CurrentStep] = @p3
WHERE ([DocID] = @p0) AND ([DocType] = @p1) AND ([DocDate] = @p2) AND ([CurrentStep] IS NULL) AND ([ChannelID] IS NULL)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:47:10]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [0]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

DELETE FROM [dbo].[DocumentDispatch] WHERE ([DocID] = @p0) AND ([TypeID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [105306]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:47:11
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:47:11
event message處理完成!
2016/07/11 11:47:24
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:47:24
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:47:24
event message處理完成!
2016/07/11 11:52:26
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:52:26
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:52:26
event message處理完成!
2016/07/11 11:59:14
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:59:15
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 11:59:15
event message處理完成!
2016/07/11 12:00:34
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:00:34
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1309]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:00:34
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 上午 11:51:20]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:00:34]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:00:34
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:00:34]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:00:34]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t4].[test], [t4].[InvoiceID], [t4].[No], [t4].[InvoiceDate], [t4].[CheckNo], [t4].[Remark], [t4].[BuyerRemark], [t4].[CustomsClearanceMark], [t4].[TaxCenter], [t4].[PermitDate], [t4].[PermitWord], [t4].[PermitNumber], [t4].[Category], [t4].[RelateNumber], [t4].[InvoiceType], [t4].[GroupMark], [t4].[DonateMark], [t4].[SellerID], [t4].[DonationID], [t4].[RandomNo], [t4].[TrackCode], [t4].[PrintMark]
FROM [dbo].[DocumentSubscriptionQueue] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t0].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID], [t3].[No], [t3].[InvoiceDate], [t3].[CheckNo], [t3].[Remark], [t3].[BuyerRemark], [t3].[CustomsClearanceMark], [t3].[TaxCenter], [t3].[PermitDate], [t3].[PermitWord], [t3].[PermitNumber], [t3].[Category], [t3].[RelateNumber], [t3].[InvoiceType], [t3].[GroupMark], [t3].[DonateMark], [t3].[SellerID], [t3].[DonationID], [t3].[RandomNo], [t3].[TrackCode], [t3].[PrintMark]
    FROM [dbo].[InvoiceItem] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t1].[DocID]
WHERE ([t4].[SellerID] = @p0) AND ([t2].[ClientID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:04:15
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:04:15
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:04:15
event message處理完成!
2016/07/11 12:09:17
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:09:17
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:09:17
event message處理完成!
2016/07/11 12:14:18
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:14:18
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:14:18
event message處理完成!
2016/07/11 12:19:20
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:19:20
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:19:20
event message處理完成!
2016/07/11 12:24:22
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:24:22
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:24:22
event message處理完成!
2016/07/11 12:29:23
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:29:23
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:29:23
event message處理完成!
2016/07/11 12:30:44
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:30:44
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1309]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:30:44
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:21:25]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:30:44]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:30:45
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:30:44]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:30:45]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t4].[test], [t4].[InvoiceID], [t4].[No], [t4].[InvoiceDate], [t4].[CheckNo], [t4].[Remark], [t4].[BuyerRemark], [t4].[CustomsClearanceMark], [t4].[TaxCenter], [t4].[PermitDate], [t4].[PermitWord], [t4].[PermitNumber], [t4].[Category], [t4].[RelateNumber], [t4].[InvoiceType], [t4].[GroupMark], [t4].[DonateMark], [t4].[SellerID], [t4].[DonationID], [t4].[RandomNo], [t4].[TrackCode], [t4].[PrintMark]
FROM [dbo].[DocumentSubscriptionQueue] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t0].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID], [t3].[No], [t3].[InvoiceDate], [t3].[CheckNo], [t3].[Remark], [t3].[BuyerRemark], [t3].[CustomsClearanceMark], [t3].[TaxCenter], [t3].[PermitDate], [t3].[PermitWord], [t3].[PermitNumber], [t3].[Category], [t3].[RelateNumber], [t3].[InvoiceType], [t3].[GroupMark], [t3].[DonateMark], [t3].[SellerID], [t3].[DonationID], [t3].[RandomNo], [t3].[TrackCode], [t3].[PrintMark]
    FROM [dbo].[InvoiceItem] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t1].[DocID]
WHERE ([t4].[SellerID] = @p0) AND ([t2].[ClientID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:34:24
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:34:24
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:34:24
event message處理完成!
2016/07/11 12:39:27
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:39:27
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:39:27
event message處理完成!
2016/07/11 12:44:28
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:44:29
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:44:29
event message處理完成!
2016/07/11 12:49:29
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:49:29
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:49:29
event message處理完成!
2016/07/11 12:54:31
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:54:31
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:54:31
event message處理完成!
2016/07/11 12:59:33
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:59:33
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 12:59:33
event message處理完成!
2016/07/11 13:00:53
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1303]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:00:53
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN ([dbo].[CDS_Document] AS [t1]
    LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]) ON [t0].[InvoiceID] = [t1].[DocID]
INNER JOIN [dbo].[InvoiceDeliveryTracking] AS [t3] ON [t0].[InvoiceID] = [t3].[InvoiceID]
WHERE ([t0].[SellerID] = @p0) AND ([t2].[ClientID] = @p1) AND ([t3].[DeliveryStatus] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- @p2: Input Int (Size = -1; Prec = 0; Scale = 0) [1309]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:00:54
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 12:52:44]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 01:00:54]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:00:54
SELECT TOP (1) [t0].[CompanyID], [t0].[X509Certificate], [t0].[Thumbprint], [t0].[PKCS12], [t0].[KeyID], [t0].[IsActivated]
FROM [dbo].[OrganizationToken] AS [t0]
WHERE [t0].[Thumbprint] = @p0
-- @p0: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [7686904123E918422DC05E446075DC1A9A8267A6]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[ContactName], [t0].[Fax], [t0].[LogoURL], [t0].[CompanyName], [t0].[CompanyID], [t0].[ReceiptNo], [t0].[Phone], [t0].[ContactFax], [t0].[ContactPhone], [t0].[ContactMobilePhone], [t0].[RegAddr], [t0].[UndertakerName], [t0].[Addr], [t0].[EnglishName], [t0].[EnglishAddr], [t0].[EnglishRegAddr], [t0].[ContactEmail], [t0].[UndertakerPhone], [t0].[UndertakerFax], [t0].[UndertakerMobilePhone], [t0].[InvoiceSignature], [t0].[UndertakerID], [t0].[ContactTitle]
FROM [dbo].[Organization] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[CompanyID], [t0].[CurrentLevel], [t0].[LastTimeToAcknowledge], [t0].[RequestPeriodicalInterval], [t0].[SetToPrintInvoice], [t0].[InvoicePrintView], [t0].[IronSteelIndustry], [t0].[Entrusting], [t0].[AuthorizationNo], [t0].[TokenID], [t0].[SetToOutsourcingCS], [t0].[AllowancePrintView], [t0].[SetToNotifyCounterpartBySMS], [t0].[DownloadDataNumber], [t0].[DownloadDispatch], [t0].[UploadBranchTrackBlank], [t0].[PrintAll], [t0].[SettingInvoiceType], [t0].[SubscribeB2BInvoicePDF], [t0].[UseB2BStandalone], [t0].[DisableIssuingNotice], [t0].[DisableWinningNotice]
FROM [dbo].[OrganizationStatus] AS [t0]
WHERE [t0].[CompanyID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

UPDATE [dbo].[OrganizationStatus]
SET [LastTimeToAcknowledge] = @p11
WHERE ([CompanyID] = @p0) AND ([CurrentLevel] = @p1) AND ([LastTimeToAcknowledge] = @p2) AND ([RequestPeriodicalInterval] = @p3) AND ([SetToPrintInvoice] = @p4) AND ([InvoicePrintView] = @p5) AND ([IronSteelIndustry] IS NULL) AND ([Entrusting] IS NULL) AND ([AuthorizationNo] IS NULL) AND ([TokenID] IS NULL) AND (NOT ([SetToOutsourcingCS] = 1)) AND ([AllowancePrintView] = @p6) AND (NOT ([SetToNotifyCounterpartBySMS] = 1)) AND ([DownloadDataNumber] = @p7) AND ([DownloadDispatch] IS NULL) AND (NOT ([UploadBranchTrackBlank] = 1)) AND ([PrintAll] = @p8) AND ([SettingInvoiceType] = @p9) AND ([SubscribeB2BInvoicePDF] = @p10) AND ([UseB2BStandalone] IS NULL) AND ([DisableIssuingNotice] IS NULL) AND (NOT ([DisableWinningNotice] = 1))
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1103]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 01:00:54]
-- @p3: Input Int (Size = -1; Prec = 0; Scale = 0) [1800]
-- @p4: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p5: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [~/Module/EIVO/NewInvoicePrintView.ascx]
-- @p6: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) []
-- @p7: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p8: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p9: Input Int (Size = -1; Prec = 0; Scale = 0) [5]
-- @p10: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p11: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/7/11 下午 01:00:54]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t4].[test], [t4].[InvoiceID], [t4].[No], [t4].[InvoiceDate], [t4].[CheckNo], [t4].[Remark], [t4].[BuyerRemark], [t4].[CustomsClearanceMark], [t4].[TaxCenter], [t4].[PermitDate], [t4].[PermitWord], [t4].[PermitNumber], [t4].[Category], [t4].[RelateNumber], [t4].[InvoiceType], [t4].[GroupMark], [t4].[DonateMark], [t4].[SellerID], [t4].[DonationID], [t4].[RandomNo], [t4].[TrackCode], [t4].[PrintMark]
FROM [dbo].[DocumentSubscriptionQueue] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t0].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN (
    SELECT 1 AS [test], [t3].[InvoiceID], [t3].[No], [t3].[InvoiceDate], [t3].[CheckNo], [t3].[Remark], [t3].[BuyerRemark], [t3].[CustomsClearanceMark], [t3].[TaxCenter], [t3].[PermitDate], [t3].[PermitWord], [t3].[PermitNumber], [t3].[Category], [t3].[RelateNumber], [t3].[InvoiceType], [t3].[GroupMark], [t3].[DonateMark], [t3].[SellerID], [t3].[DonationID], [t3].[RandomNo], [t3].[TrackCode], [t3].[PrintMark]
    FROM [dbo].[InvoiceItem] AS [t3]
    ) AS [t4] ON [t4].[InvoiceID] = [t1].[DocID]
WHERE ([t4].[SellerID] = @p0) AND ([t2].[ClientID] = @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [2359]
-- @p1: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [GoogleGUI]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:04:34
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:04:34
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:04:34
event message處理完成!
2016/07/11 13:09:35
SELECT [t1].[DocID], [t1].[DocType], [t1].[DocDate], [t1].[CurrentStep]
FROM [dbo].[DocumentReplication] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[DocID]
LEFT OUTER JOIN [dbo].[DocumentOwner] AS [t2] ON [t2].[DocID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[Organization] AS [t3] ON [t3].[CompanyID] = [t2].[OwnerID]
LEFT OUTER JOIN [dbo].[OrganizationStatus] AS [t4] ON [t4].[CompanyID] = [t3].[CompanyID]
LEFT OUTER JOIN [dbo].[InvoiceItem] AS [t5] ON [t5].[InvoiceID] = [t1].[DocID]
LEFT OUTER JOIN [dbo].[InvoiceBuyer] AS [t6] ON [t6].[InvoiceID] = [t5].[InvoiceID]
WHERE ([t1].[DocType] = @p0) AND ([t4].[SetToNotifyCounterpartBySMS] = @p1) AND ([t6].[ReceiptNo] = @p2)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- @p2: Input NVarChar (Size = 4000; Prec = 0; Scale = 0) [0000000000]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

delete from DocumentReplication
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[SMSNotificationQueue] AS [t0]
WHERE [t0].[MessageID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [1]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:09:35
SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[DocID], [t0].[TypeID]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT COUNT(*) AS [value]
FROM [dbo].[DocumentDispatch] AS [t0]
WHERE [t0].[TypeID] = @p0
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [14]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:09:35
event message處理完成!
2016/07/11 13:12:31
SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[InvoiceID]
WHERE ([t0].[InvoiceDate] >= @p0) AND ([t1].[DocType] = @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t1].[TrackCode] + [t1].[No] AS [value]
FROM [dbo].[CDS_Document] AS [t0]
INNER JOIN [dbo].[InvoiceItem] AS [t1] ON ((
    SELECT [t2].[SourceID]
    FROM [dbo].[DerivedDocument] AS [t2]
    WHERE [t2].[DocID] = [t0].[DocID]
    )) = [t1].[InvoiceID]
WHERE ([t0].[DocType] = @p0) AND ([t1].[InvoiceDate] >= @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t1].[AllowanceNumber]
FROM [dbo].[CDS_Document] AS [t0]
LEFT OUTER JOIN [dbo].[InvoiceAllowance] AS [t1] ON [t1].[AllowanceID] = [t0].[DocID]
WHERE ([t1].[AllowanceDate] >= @p0) AND ([t0].[DocType] = @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t1].[AllowanceNumber]
FROM [dbo].[InvoiceAllowanceCancellation] AS [t0]
INNER JOIN [dbo].[InvoiceAllowance] AS [t1] ON [t1].[AllowanceID] = [t0].[AllowanceID]
WHERE ([t1].[AllowanceDate] >= @p0) OR ([t0].[CancelDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:12:31
SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND (([t0].[MESSAGE_DTS] >= @p2) OR ([t0].[InvoiceDate] >= @p3))
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C0401]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND ([t0].[MESSAGE_DTS] >= @p2)
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C0501]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND ([t0].[MESSAGE_DTS] >= @p2)
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [D0401]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND ([t0].[MESSAGE_DTS] >= @p2)
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [D0501]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:12:31
SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND (([t0].[MESSAGE_DTS] >= @p2) OR ([t0].[InvoiceDate] >= @p3))
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C0401]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p3: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND ([t0].[MESSAGE_DTS] >= @p2)
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C0501]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND ([t0].[MESSAGE_DTS] >= @p2)
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [D0401]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[V_Logs] AS [t0]
WHERE ([t0].[STATUS] = @p0) AND ([t0].[DocType] = @p1) AND ([t0].[MESSAGE_DTS] >= @p2)
-- @p0: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [C]
-- @p1: Input VarChar (Size = 8000; Prec = 0; Scale = 0) [D0501]
-- @p2: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


2016/07/11 13:12:31
SELECT [t0].[TrackCode] + [t0].[No] AS [value]
FROM [dbo].[InvoiceItem] AS [t0]
INNER JOIN [dbo].[CDS_Document] AS [t1] ON [t1].[DocID] = [t0].[InvoiceID]
WHERE ([t0].[InvoiceDate] >= @p0) AND ([t1].[DocType] = @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [10]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t1].[TrackCode] + [t1].[No] AS [value]
FROM [dbo].[CDS_Document] AS [t0]
INNER JOIN [dbo].[InvoiceItem] AS [t1] ON ((
    SELECT [t2].[SourceID]
    FROM [dbo].[DerivedDocument] AS [t2]
    WHERE [t2].[DocID] = [t0].[DocID]
    )) = [t1].[InvoiceID]
WHERE ([t0].[DocType] = @p0) AND ([t1].[InvoiceDate] >= @p1)
-- @p0: Input Int (Size = -1; Prec = 0; Scale = 0) [12]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t1].[AllowanceNumber]
FROM [dbo].[CDS_Document] AS [t0]
LEFT OUTER JOIN [dbo].[InvoiceAllowance] AS [t1] ON [t1].[AllowanceID] = [t0].[DocID]
WHERE ([t1].[AllowanceDate] >= @p0) AND ([t0].[DocType] = @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p1: Input Int (Size = -1; Prec = 0; Scale = 0) [11]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0

SELECT [t1].[AllowanceNumber]
FROM [dbo].[InvoiceAllowanceCancellation] AS [t0]
INNER JOIN [dbo].[InvoiceAllowance] AS [t1] ON [t1].[AllowanceID] = [t0].[AllowanceID]
WHERE ([t1].[AllowanceDate] >= @p0) OR ([t0].[CancelDate] >= @p1)
-- @p0: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- @p1: Input DateTime (Size = -1; Prec = 0; Scale = 0) [2016/5/11 上午 12:00:00]
-- Context: SqlProvider(Sql2008) Model: AttributedMetaModel Build: 4.6.1055.0


